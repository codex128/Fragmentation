$name MixRGB

@input state mode 0:Mix,Add,Subtract,Multiply,Divide,Darken,Lighten
@input float factor 0.5
@input vec4 color1 0.5,0.5,0.5,1.0
@input vec4 color2 0.5,0.5,0.5,1.0

@local mix

@output vec4 result

<static>

vec4 mix(int m, float f, vec4 c1, vec4 c2) {
    return (c2 - c1) / f;
}

</static>
<main>

vec4 result = mix(mode, factor, color1, color2);

</main>

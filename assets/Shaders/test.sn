$name test-GLSL

// all input variables must be declared here
@input sampler2D texture
@input vec2 texCoord
@input float myFloat 0.0

// all local (non-output) variables and functions must be registered here
@local myVec
@local getAlpha

// all output variables must be registered here
@output vec3 out
@output vec2 offset

// glsl init code
<init>
    #ifdef NOISE
        uniform vec2 m_Offset;
    #endif
</init>

// glsl main code
<main>
    vec4 myVec = texture2D(texture, texCoord);
    vec3 out = myVec.zxy;
    float getAlpha(vec4 vec) {
        return vec.w;
    }
    vec2 offset = m_Offset.xy;
</main>
